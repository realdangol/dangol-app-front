'use client';

import clsx from 'clsx';
import { signIn } from 'next-auth/react';
import type { PropsWithChildren } from 'react';
import React from 'react';
import { twMerge } from 'tailwind-merge';
import type { DangolOauthProvider } from 'types/auth';

type Props = {
  provider: DangolOauthProvider;
  className?: string;
  onClick?: () => void;
};

const OAuthSignInButtonWrapper = ({ children, className, provider }: PropsWithChildren<Props>) => {
  const loginWithProvider = () => {
    signIn(provider, { callbackUrl: '/oauth/success/callback' });
  };

  return (
    <button
      className={twMerge(
        clsx('h-12 rounded-lg flex items-center justify-center dangol-typo-element3', className),
      )}
      type="button"
      aria-label={`${provider} 계정으로 로그인`}
      onClick={loginWithProvider}
    >
      {children}
    </button>
  );
};

const Naver = () => {
  return (
    <OAuthSignInButtonWrapper className="bg-[#03C75A] text-white" provider="naver">
      <svg
        width="38"
        height="38"
        viewBox="0 0 38 38"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <rect width="38" height="38" rx="19" fill="#03C75A" />
        <g clipPath="url(#clip0_2043_10347)">
          <path
            d="M21.493 19.4923L16.3023 12H12V26H16.507V18.5065L21.6977 26H26V12H21.493V19.4923Z"
            fill="white"
          />
        </g>
        <defs>
          <clipPath id="clip0_2043_10347">
            <rect width="14" height="14" fill="white" transform="translate(12 12)" />
          </clipPath>
        </defs>
      </svg>
      네이버 계정으로 시작하기
    </OAuthSignInButtonWrapper>
  );
};

const Kakao = () => {
  return (
    <OAuthSignInButtonWrapper className="bg-[#FEE500] text-[#1D1E1E]" provider="kakao">
      <svg
        width="38"
        height="38"
        viewBox="0 0 38 38"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <circle cx="19" cy="19" r="19" fill="#FEE500" />
        <path
          d="M19.0549 9.17188C13.1436 9.17188 8.37646 12.9856 8.37646 17.6155C8.37646 20.6207 10.3596 23.2522 13.3343 24.7548L12.3275 28.5152C12.3085 28.5715 12.3056 28.632 12.3191 28.6899C12.3325 28.7478 12.3619 28.8009 12.4038 28.8431C12.4649 28.897 12.5435 28.9268 12.625 28.927C12.6925 28.9216 12.7566 28.8949 12.808 28.8507L17.1404 25.9294C17.78 26.0177 18.4246 26.0635 19.0702 26.0667C24.9739 26.0667 29.7487 22.253 29.7487 17.6155C29.7487 12.9779 24.9586 9.17188 19.0549 9.17188Z"
          fill="#392020"
        />
        <path
          d="M12.1136 16.2789H10.9466C10.8019 16.2831 10.6591 16.246 10.5347 16.1721C10.4795 16.1375 10.432 16.0918 10.3953 16.038C10.3585 15.9842 10.3333 15.9234 10.3211 15.8593C10.3174 15.8187 10.3174 15.778 10.3211 15.7374C10.3175 15.6614 10.3323 15.5856 10.3641 15.5166C10.396 15.4476 10.444 15.3872 10.5042 15.3407C10.6372 15.2444 10.7977 15.1935 10.9618 15.1958H14.4781C14.6239 15.1906 14.7677 15.2306 14.89 15.3102C14.9465 15.3432 14.995 15.3885 15.0319 15.4426C15.0689 15.4967 15.0933 15.5582 15.1036 15.6229C15.1073 15.661 15.1073 15.6993 15.1036 15.7374C15.1072 15.8144 15.0925 15.8912 15.0606 15.9615C15.0288 16.0317 14.9808 16.0934 14.9205 16.1416C14.7908 16.2377 14.6318 16.2863 14.4705 16.2789H13.3416V20.2909C13.3462 20.3764 13.333 20.4619 13.3028 20.542C13.2726 20.6221 13.2261 20.695 13.1662 20.7562C13.1088 20.8147 13.0397 20.8605 12.9636 20.8908C12.8874 20.921 12.8057 20.9349 12.7238 20.9316C12.5805 20.9357 12.4403 20.8899 12.3272 20.802C12.2194 20.7161 12.1463 20.5942 12.1212 20.4587C12.1137 20.403 12.1137 20.3466 12.1212 20.2909L12.1136 16.2789Z"
          fill="#FEE500"
        />
        <path
          d="M15.4402 15.495C15.4738 15.3695 15.5526 15.2608 15.6614 15.1899C15.7774 15.1241 15.9096 15.0924 16.0428 15.0984H16.3327C16.474 15.0933 16.614 15.1276 16.7369 15.1975C16.8672 15.2851 16.9598 15.4185 16.9963 15.5713L18.5217 19.8808C18.5613 19.9932 18.5944 20.1079 18.6209 20.2241C18.6235 20.2724 18.6235 20.3207 18.6209 20.369C18.6235 20.4433 18.6098 20.5173 18.5808 20.5858C18.5518 20.6543 18.5082 20.7157 18.4531 20.7656C18.3997 20.8204 18.3355 20.8636 18.2646 20.8924C18.1938 20.9213 18.1177 20.9352 18.0412 20.9334C17.9236 20.9451 17.8054 20.9169 17.7058 20.8532C17.6062 20.7896 17.5309 20.6942 17.492 20.5826L17.1717 19.6444H15.1657L14.8453 20.5826C14.8074 20.6964 14.7312 20.7936 14.6297 20.8576C14.5281 20.9216 14.4076 20.9484 14.2885 20.9334C14.1595 20.9368 14.0332 20.8964 13.93 20.819C13.8295 20.739 13.7617 20.6252 13.7393 20.4987C13.7353 20.4555 13.7353 20.4121 13.7393 20.369C13.7262 20.2933 13.7262 20.2159 13.7393 20.1402C13.7393 20.0563 13.7927 19.9647 13.8232 19.8808L15.4402 15.495ZM16.203 16.4942L15.4784 18.7825H16.92L16.203 16.4942Z"
          fill="#FEE500"
        />
        <path
          d="M18.7956 15.7391C18.7878 15.5679 18.8482 15.4006 18.9634 15.2738C19.022 15.2147 19.0923 15.1685 19.1698 15.1383C19.2473 15.1081 19.3303 15.0944 19.4134 15.0983C19.5563 15.0966 19.6957 15.1422 19.81 15.228C19.916 15.3175 19.9863 15.4419 20.0084 15.5788C20.0159 15.632 20.0159 15.6859 20.0084 15.7391V19.7511H22.1059C22.2513 19.7492 22.3942 19.7889 22.5178 19.8655C22.5733 19.8997 22.621 19.9453 22.6578 19.9992C22.6946 20.053 22.7197 20.114 22.7314 20.1782C22.7314 20.1782 22.7314 20.2545 22.7314 20.2927C22.735 20.3686 22.7202 20.4443 22.6884 20.5133C22.6565 20.5824 22.6085 20.6428 22.5483 20.6893C22.4153 20.7856 22.2548 20.8364 22.0907 20.8342H19.5126C19.3484 20.8447 19.1852 20.802 19.0473 20.7122C18.924 20.62 18.8418 20.483 18.8185 20.3308C18.8129 20.247 18.8129 20.1629 18.8185 20.0791L18.7956 15.7391Z"
          fill="#FEE500"
        />
        <path
          d="M22.8688 15.7385C22.8642 15.5678 22.9241 15.4017 23.0366 15.2733C23.1509 15.1694 23.2976 15.108 23.4518 15.0997C23.606 15.0914 23.7584 15.1365 23.8833 15.2275C23.9915 15.3161 24.0645 15.4405 24.0892 15.5783C24.093 15.6316 24.093 15.6852 24.0892 15.7385V17.6072L26.0189 15.38C26.0933 15.304 26.1723 15.2327 26.2554 15.1665C26.3337 15.1198 26.4236 15.096 26.5147 15.0977C26.648 15.097 26.7784 15.1369 26.8885 15.2122C26.9403 15.2471 26.9846 15.2922 27.0187 15.3446C27.0528 15.397 27.0759 15.4557 27.0868 15.5173C27.0899 15.5324 27.0899 15.548 27.0868 15.5631C27.0831 15.5807 27.0831 15.5989 27.0868 15.6165C27.0865 15.6967 27.0655 15.7756 27.0258 15.8453C26.9853 15.9192 26.9367 15.9882 26.8809 16.0512L25.6147 17.4394L27.1402 19.8039V19.8802C27.2194 19.9895 27.2811 20.1105 27.3232 20.2388V20.2768C27.3321 20.3652 27.3193 20.4544 27.2861 20.5368C27.2529 20.6192 27.2002 20.6922 27.1326 20.7497C27.0053 20.8459 26.8496 20.897 26.6902 20.8947C26.5842 20.8991 26.479 20.8753 26.3851 20.826C26.2835 20.7579 26.1998 20.6663 26.141 20.5591L24.7223 18.2708L24.0434 18.9802V20.2539C24.048 20.4246 23.9881 20.5907 23.8756 20.7192C23.8153 20.7781 23.7436 20.8241 23.6649 20.8543C23.5862 20.8845 23.5022 20.8982 23.418 20.8947C23.2772 20.8977 23.1398 20.8518 23.029 20.765C22.9212 20.6791 22.8481 20.5573 22.823 20.4218C22.8155 20.3661 22.8155 20.3096 22.823 20.2539L22.8688 15.7385Z"
          fill="#FEE500"
        />
      </svg>
      카카오 계정으로 시작하기
    </OAuthSignInButtonWrapper>
  );
};

const OAuthSignInButton = {
  Naver,
  Kakao,
};

export default OAuthSignInButton;
